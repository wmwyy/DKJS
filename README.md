# 跌坎计算器

基于规范 **B.4.1** 的跌坎高度计算工具。

## 功能特点

- 🌊 跌坎高度计算（B.4.1-1 ~ B.4.1-3）
- 📐 设计参数验证（B.4.2 ~ B.4.4）
- 📊 可视化结果展示
- ✅ 实时参数检查

## 计算公式

### B.4.1-1：跌坎高度最小值
```
P ≥ 0.186 × (hk^2.75 / hds^1.75)
```

### B.4.1-2：跌坎高度上限
```
P < (2.24hk - hds) / (1.48×hk/Pd - 0.84)
```

### B.4.1-3：跌坎高度优化下限
```
P > (2.38hk - hds) / (1.81×hk/Pd - 1.16)
```

## 参数说明

- **P**: 跌坎高度 (m)
- **hk**: 跌坎上临界水深 (m)
- **hdc**: 跌坎上收缩水深 (m)
- **hds**: 跌坎后河床水深 (m)
- **Pd**: 闸坎顶面与下游河底的高差 (m)

## 设计约束

- **B.4.2**: 跌坎顶面倾角 θ 宜在 0° ~ 10° 内
- **B.4.3**: 跌坎反弧半径 R ≥ 2.5hdc
- **B.4.4**: 跌坎长度 Lm ≥ 1.5hdc

## 使用方法

### 本地运行

```bash
pip install -r requirements.txt
streamlit run app.py
```

### 在线使用

访问部署地址：https://dkjs.streamlit.app/

## 技术栈

- Python 3.8+
- Streamlit
- Math (标准库)

## 许可证

MIT License
